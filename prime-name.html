<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Prime name calculator</title>
  <meta name="description" content="Prime name calculator">
  <meta name="author" content="Matthew Chubb">
  
  <script src="jquery-3.1.1.min.js"></script>
  <script type="text/javascript">
	function validate(name) {
	  if (! name.match(/^[A-z]*$/)) {
		return false;
	  }
	  
	  return true;
	}
	
	function numberify(name) {
		var totalScore = 0;
	
		name = name.replace(/\s*/g, "");
	    if (! validate(name)) {
			notifyMessage("Invalid name (" + name + "), only A-Z accepted.");
			throw "Invalid name (" + name + "), only A-Z accepted.";
		};
		
		name.toLowerCase()
			.split('')
			.forEach(function(letter){
				totalScore += letterToNumber(letter);
			});
		
		return totalScore;
	}
	
	function letterToNumber(letter) {
		var score = letter.charCodeAt(0) - 96;
		if (1 < score < 27) {
			return score;
		}
		
		throw "Invalid letter encountered (" + letter + "): Only A-Z accepted";
	}
	
	function checkPrime(number) {
		for(var it = 2; it <= Math.sqrt(number); it++) {
			if(number % it === 0) {
				return false;
			}
		}
		
		return number > 1;
	}
	
	function notifyMessage(message) {
		$("#message").text(message);
	}
	
  </script>
</head>


<body>

  <h1>Prime name calculator</h1>
  <input id="name" type="text" pattern=/^[A-z]*$/ />
  <button id="go" type="button">Check</button>
  <div id="message" />
  

  <script type="text/javascript">
	$("#go").on("click", function(){
		var name = $("#name").val();
		var score = numberify(name);
	  
		if (checkPrime(score)) {
			notifyMessage( name + " is prime!");
		} else {
			notifyMessage( name + " is not prime!");
		}
		
	});
  </script>
</body>
</html>